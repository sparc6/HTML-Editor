<!DOCTYPE html>
<html lang="tr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>HTML EditÃ¶rÃ¼ - BiliÅŸim GarajÄ±</title>
    <link rel="stylesheet" href="styles.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <!-- CodeMirror CSS -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/theme/monokai.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/fold/foldgutter.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/hint/show-hint.min.css"
    />
  </head>
  <body>
    <div class="app-container" id="appContainer">
      <!-- Back Buttons - Top Left -->
      <div class="back-buttons-floating">
        <button class="back-button" id="backToHomeBtn" title="Ana sayfaya dÃ¶n" onclick="window.location.href='index.html'">
          <span class="button-text">â† Anasayfa</span>
        </button>
        <button class="back-button" id="backToTasksBtn" title="GÃ¶rev listesine dÃ¶n" onclick="goBackToTaskList()">
          <span class="button-text">â† GÃ¶rev Listesi</span>
        </button>
      </div>

      <!-- Header -->
      <div class="editor-header-section">
        <div class="editor-header-container">
          <div class="level-header">
            <div class="level-logo">
              <div class="logo-icon">ğŸŒ</div>
              <h1>HTML Ã–ÄŸrenim Platformu</h1>
            </div>
          </div>
          
          <!-- Editor Info Panel -->
          <div class="editor-info-panel">
            <div class="editor-info-card" id="activeTaskCard">
              <div class="info-icon info-icon--task">ğŸ†</div>
              <div class="info-text">
                <span class="info-label">Aktif GÃ¶rev</span>
                <span class="info-value" id="activeTaskNumber">GÃ¶rev 1</span>
                <span class="info-subtitle" id="activeTaskTitle">Ä°lk HTML Sayfam</span>
              </div>
            </div>

            <span class="info-divider" aria-hidden="true"></span>

            <div class="editor-info-card editor-info-card--progress">
              <div class="info-icon">ğŸ“ˆ</div>
              <div class="info-text">
                <span class="info-label">Ä°lerleme</span>
                <span class="info-value progress-percentage" id="progressPercentage">0%</span>
                <div class="info-progress-bar">
                  <div class="info-progress-fill progress-fill" id="infoProgressFill" style="width: 0%"></div>
                </div>
                <span class="info-subtitle completed-tasks" id="completionSummary">Tamamlanan: 0/0</span>
              </div>
            </div>

            <span class="info-divider" aria-hidden="true"></span>

            <div class="editor-info-card">
              <div class="info-icon">â­</div>
              <div class="info-text">
                <span class="info-label">Toplam Puan</span>
                <span class="info-value points-number" id="totalPointsValue">0</span>
                <span class="info-subtitle" id="levelSummary">Seviye 1</span>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Main Content -->
      <main class="main-content">
        <!-- Sidebar -->
        <aside class="sidebar">
          <div class="sidebar-section">
            <div class="sidebar-header">
              <h3>ğŸ“š GÃ¶rev DetayÄ±</h3>
            </div>
            <div class="task-detail" id="taskDetail">
              <h4 class="task-title" id="taskTitle">GÃ¶rev yÃ¼kleniyor...</h4>
              <p class="task-description" id="taskDescription">GÃ¶rev aÃ§Ä±klamasÄ± yÃ¼kleniyor...</p>
              <div class="task-meta">
                <span class="task-difficulty" id="taskDifficulty">â­ Kolay</span>
                <span class="task-points" id="taskPoints">ğŸ¯ 10 Puan</span>
              </div>
            </div>
          </div>
        </aside>

        <!-- Editor Area (3 Panels: HTML, CSS, JS) -->
        <section class="editor-area">
          <div class="editor-tabs">
            <button class="editor-tab active" data-lang="html">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                <path d="M12 2L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-3zm0 2.18l7 2.33V13c0 4.52-2.98 8.69-7 9.93-4.02-1.24-7-5.41-7-9.93V6.51l7-2.33z"/>
              </svg>
              HTML
            </button>
          </div>

          <div class="editor-controls">
            <button class="btn btn-run" id="runBtn">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
                <path d="M8 5v14l11-7z"/>
              </svg>
              Ã‡alÄ±ÅŸtÄ±r
            </button>
            <button class="btn btn-reset" id="resetBtn">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
                <path d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"/>
              </svg>
              SÄ±fÄ±rla
            </button>
            <button class="btn btn-hint" id="hintBtn">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-6h2v6zm0-8h-2V7h2v4z"/>
              </svg>
              Ä°pucu
            </button>
            <button class="btn btn-validate" id="validateBtn">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
                <path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"/>
              </svg>
              Kontrol Et
            </button>
          </div>

          <div class="editors-container">
            <div class="editor-panel active" data-panel="html">
              <textarea id="htmlEditor"></textarea>
            </div>
          </div>
        </section>

        <!-- Live Preview Panel -->
        <section class="preview-panel">
          <div class="preview-header">
            <h3>ğŸ‘ï¸ CanlÄ± Ã–nizleme</h3>
            <div class="preview-controls">
              <button class="btn btn-sm" id="refreshPreviewBtn">ğŸ”„ Yenile</button>
            </div>
          </div>
          <div class="preview-content">
            <iframe id="previewFrame" sandbox="allow-scripts allow-same-origin" title="Live Preview"></iframe>
          </div>
        </section>
      </main>
    </div>

    <!-- Hint Modal -->
    <div class="hint-modal" id="hintModal">
      <div class="hint-modal-header">
        <div class="hint-modal-title">
          <span class="hint-icon">ğŸ’¡</span>
          <span class="hint-title">Ä°pucu</span>
        </div>
        <button class="hint-close-btn" id="hintCloseBtn">Ã—</button>
      </div>
      <div class="hint-modal-content">
        <div class="hint-tabs">
          <button class="hint-tab active" id="shortHintTab">KÄ±sa Ä°pucu</button>
          <button class="hint-tab" id="longHintTab">DetaylÄ± Ä°pucu</button>
        </div>
        <div class="hint-content">
          <div class="hint-tab-content active" id="shortHintContent">
            <div class="hint-text" id="shortHintText">
              <!-- Short hint content will be loaded here -->
            </div>
          </div>
          <div class="hint-tab-content" id="longHintContent">
            <div class="hint-text" id="longHintText">
              <!-- Long hint content will be loaded here -->
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Success Modal -->
    <div class="success-modal" id="successModal">
      <div class="success-content">
        <div class="success-icon">ğŸ‰</div>
        <h2 class="success-title">Tebrikler!</h2>
        <p class="success-message" id="successMessage">GÃ¶revi baÅŸarÄ±yla tamamladÄ±nÄ±z!</p>
        <div class="success-points" id="successPoints">+10 Puan KazandÄ±nÄ±z!</div>
        <div class="success-actions">
          <button class="btn btn-primary" id="nextTaskBtn">Sonraki GÃ¶rev â†’</button>
          <button class="btn btn-secondary" id="closeSuccessBtn">Kapat</button>
        </div>
      </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/htmlmixed/htmlmixed.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/xml/xml.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/javascript/javascript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/css/css.min.js"></script>
    <!-- CodeMirror Addons -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/edit/closetag.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/edit/matchtags.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/edit/matchbrackets.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/fold/foldcode.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/fold/foldgutter.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/fold/xml-fold.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/hint/show-hint.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/hint/html-hint.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/selection/active-line.min.js"></script>
    <script>
      // Inline helper for back button
      function goBackToTaskList() {
        const urlParams = new URLSearchParams(window.location.search);
        const chapterNumber = urlParams.get('chapter');
        const categoryName = urlParams.get('category');
        if (chapterNumber) {
          window.location.href = 'task-selection.html?chapter=' + chapterNumber;
        } else if (categoryName) {
          window.location.href = 'task-selection.html?category=' + categoryName;
        } else {
          window.location.href = 'index.html';
        }
      }
    </script>
    <script src="js/html-data.js"></script>
    <script src="js/editor.js"></script>
  </body>
</html>

